<!DOCTYPE html>
<html>
  <head>
    <title>Karten gegen Flopsigkeit</title>
    <link rel="shortcut icon" href="/res/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/res/css/main.css">
    <link rel="stylesheet" type="text/css" href="/res/css/{echo theme}.css" id="theme">
    <script type="text/javascript">
      var theme = "{echo theme}";
    </script>
  </head>
  <body>
    <div class="cupboard">
      {isset showLogout}
        <a href="/index/logout">Log Out</a> &mdash;
      {/isset}
      You are known as <span id="username">{echo nickname}</span>
      (<a href="#" id="nameChangeLabel">Change</a>)
      <div class="rightFloat">
        <a href="#" id="lightLabel">
          Lights are being checked...
        </a>
      </div>
      <div class="clearAfterFloat"></div>
    </div>
    {isset deck_too_big}
      <div class="status-box failure-box">
        The file you uploaded is too large!
      </div>
    {/isset}
    {isset invalid_format}
      <div class="status-box failure-box">
        The file you uploaded is not formatted correctly!
      </div>
    {/isset}
    {isset invalid_type}
      <div class="status-box failure-box">
        The file you uploaded contains cards of an invalid type!
      </div>
    {/isset}
    {isset illegal_gap}
      <div class="status-box failure-box">
        The file you uploaded contains non-statement cards with gaps!
      </div>
    {/isset}
    {isset too_many_gaps}
      <div class="status-box failure-box">
        The file you uploaded contains cards with more than three gaps!
      </div>
    {/isset}
    {isset statement_no_gap}
      <div class="status-box failure-box">
        The file you uploaded contains statement cards with no gaps!
      </div>
    {/isset}
    {isset deck_too_small}
      <div class="status-box failure-box">
        The file you uploaded does not contain sufficient cards for a match.
        Try to add more cards of every type.
      </div>
    {/isset}

    <div id="matchlist"></div>

    <div class="match-box">
      <form action="/match/create" method="POST" enctype="multipart/form-data">
      <span class="upload-hint">Choose a deck...</span>
        <input type="file" name="deckupload" required="required" accept=".tsv">
        <span class="upload-hint">(Maximum file size for decks is <b>200kB</b>)</span>
        <div class="rightFloat">
          <input type="submit" value="Create new match" class="largeTextButton">
        </div>
      </form>
      <div class="clearAfterFloat"></div>
    </div>

    <div class="match-box">
      <div class="rightFloat">
        <button class="largeTextButton" id="deckEditButton">
          Open deck editor
        </button>
      </div>
      <div class="clearAfterFloat"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/res/js/collections.js"></script>
    <script type="text/javascript" src="/res/js/dashboard.js"></script>
    <script type="text/javascript" src="/res/js/options/name.js"></script>
    <script type="text/javascript" src="/res/js/options/theme.js"></script>
  </body>
</html>
